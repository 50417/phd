\lstset{language=[OpenCL]C}
\begin{figure}
	\centering %
	\subfloat[Config $2\pm$ compiler assertion during code generation.]{%
		\noindent\mbox{\parbox{\columnwidth}{%
				% cl_launcherCLgenResults/runtime_crash/bug-report-intel-30870.sh
				\lstinputlisting{lst/bug1}%
			}%
		}%
		\label{lst:intel-llvm-assertion}
	}\\%
	\subfloat[Compilation should fail; config $6\pm$ succeeds then crashes program.]{%
		\noindent\mbox{\parbox{\columnwidth}{%
				\lstinputlisting{lst/bug2}%
			}%
		}%
		\label{lst:pocl-undefined-symbols}
	}\\%
	\subfloat[Segementation fault in Vectorizer pass of config $5\pm$.]{%
		\noindent\mbox{\parbox{\columnwidth}{%
				% coCLgenResults/segfaults/bug-report-intel-43729.c
				\lstinputlisting{lst/bug5}%
			}%
		}%
		\label{lst:intel-vectorizer-segfault}
	}\\%
	\subfloat[Config $1\pm$ segementation fault.]{%
		\noindent\mbox{\parbox{\columnwidth}{%
				% bug-reports/coCLgenResults/segfaults/bug-report-nvidia-21742.c
				\lstinputlisting{lst/bug6}%
			}%
		}%
		\label{lst:nvidia-compile-segfault}
	}\\%
	\subfloat[Config $7+$ segementation fault.]{%
		\noindent\mbox{\parbox{\columnwidth}{%
				% bug-reports/coCLgenResults/segfaults/bug-report-intel-69539.c
				\lstinputlisting{lst/xeon-phi-segfault}%
			}%
		}%
		\label{lst:nvidia-compile-segfault}
	}%

	\caption{Example kernels which expose compiler crash bugs. Code samples are undoctored and presented as generated by CLgen.}%
	\label{lst:compiler-crashes}%
\end{figure}
