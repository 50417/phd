#!/usr/bin/env python3

import smith
import smith.parboil
from smith import parboil

def main():
    benchmarks = [parboil.benchmark("~/src/parboil", x) for x in [
        'spmv'
    ]]

    for benchmark in benchmarks:
        for dataset in benchmark.datasets:
            for device in [parboil.Device.GPU]:
                n_iter = 3
                results = benchmark.run('small', device_type=device, n=n_iter)
                print(benchmark.name, dataset, device, iterations)
                for result in results:
                    print('   ', result)


if __name__ == "__main__":
    main()
