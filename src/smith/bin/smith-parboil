#!/usr/bin/env python3

import smith
from smith import parboil

def main():
    benchmarks = [parboil.benchmark("~/phd/benchmarks/parboil", x) for x in [
        'spmv'
    ]]

    for benchmark in benchmarks:
        for dataset in benchmark.datasets:
            for device in [parboil.Device.GPU]:
                iterations = 10
                print(benchmark.name, dataset, device, iterations)
                benchmark.run('small', device_type=device, n=iterations)


if __name__ == "__main__":
    main()
